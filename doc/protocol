
Connection state

Client initiates the connection by sending byte 'I' to Server.
Server responds 'I', and connection state becomes connected.
Every second, the server Sends byte 'P'. If the Client does not
respond in 2 seconds, the connection state becomes stale. Stale
connection is kept in memory for 10 seconds, after which the connection
will be deleted from memory.

If Client does not receive a 'P' message for 2 seconds while in connected
state, the connection to Server is considered stale. The client then
tries to send a 'P' message every second for 10 seconds. After 10 seconds
the connection is considered lost.

If Server receives a message other than 'I' from source that has no
previous state, it responds with 'R', and the connection state is
removed from memory.

