enum Type {
  WORLD_STATE = 1;
  CLIENT_INPUT = 2;
  INITIAL_STATE = 3;
}

message AMessage {
  required Type type = 1;
  optional WorldState world_state = 2;
  optional ClientInput input = 3;
  optional InitialState initial_state = 4;
}

message InitialState {
  required bytes grid = 1;
}

message WorldState {
  required fixed32 tick_number = 1;
  required fixed32 owned_id = 2;
  required fixed32 client_mode = 3;
  repeated Object object = 4;
}

message Object {
  required fixed32 id = 1;
  required float x = 2;
  required float y = 3;
  required float z = 4;
  required float horizontal_angle = 5;
  required float vertical_angle = 6;
  required float dim_x = 7;
  required float dim_y = 8;
  required float dim_z = 9;
}

message ClientInput {
  required fixed32 tick_number = 1;
  required fixed32 actions = 2;
  required float horizontal_delta = 3;
  required float verical_delta = 4;
}
